# 다중 상속과 가상 상속

복습: No
작성일시: 2023년 5월 10일 오후 2:47

# 다중 상속

**다중 상속** 은 하나의 파생 클래스가 여러개의 클래스를 동시에 상속받는 것을 말한다. 

예를 들어서,

```cpp
class MP3 {
...
}

class MobilePhone {
...
}

class MusicPhone : public MP3, public MobilePhone {
	mp3와 mobilephone 클래스를 동시에 상속 받는다.
}
```

# 가상 상속

다중 상속도 문제점이 있다.

![99B91B495AC1194504](https://github.com/Jminu/C-/assets/99392443/e53c726c-3085-4c76-9e78-145d601eba93)


클래스AAA의 객체를 생성할 때, 다중상속 받았으므로 클래스AB, 클래스 AC에 대한 공간도 생성된다. 그리고 클래스 AAA에서 함수a()를 호출했을 때, 컴파일러는 AB공간의 a()인지 AC공간의 a()인지 모호하게 된다. → **멤버의 중복 상속** 에 의한 문제

## 가상 상속

이런 **다중 상속의 문제점** 을 해결하기 위해서, 파생 클래스를 선언할 때 키본 클래스 앞에 **virtual** 키워드를 시용하여 **가상 상속** 을 선언하면 된다.

가상 기본 클래스를 상속받으면, 파생 클래스의 객체가 생성될 때 기본 클래스의 멤버 공간을 **오직 한번만 할당** 하고 이미 할당되어 있다면, 그 공간을 공유하도록 지시한다. 

```cpp
class In : virtual public BaseIO {
...
}

class Out : virtual public BaseIO {
...
}
```

BaseIO에 있는 멤버공간을 1번만 배정하고, 만약 있다면 공유한다!
